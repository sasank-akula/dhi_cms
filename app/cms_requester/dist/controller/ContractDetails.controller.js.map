{"version":3,"file":"ContractDetails.controller.js","names":["sap","ui","define","BaseController","Controller","MessageBox","MessageToast","ContractManager","Messaging","Message","MessageType","BusyIndicator","extend","onInit","this","getRouter","getRoute","attachPatternMatched","_onObjectMatched","oEvent","show","basicVaditionIds","clearValidationStates","_SelectedContractType","oArgs","getParameter","contractId","sRouteName","isEditMode","_oIconTabBar","byId","_initializeContractMasters","_getContractDetails","_focusOnBasicInfoTab","oView","getView","setModel","getMessageModel","removeAllMessages","hide","data","ID","alias","contract_id","description","end_date","is_visible","name","start_date","templates_ID","attribute_values","attachments","getModel","setData","async","oModel","sPath","oContext","bindContext","undefined","$expand","oDetail","requestObject","then","oData","console","log","contractData","setProperty","status","oIconTabBar","setSelectedKey","oBasicInfoTab","getItems","getDomRef","focus","_currentTabKey","onTabSelect","navItemId","sSelectedKey","getSelectedKey","sSelectedContractType","warning","initializeDetails","_setDefaultFirstDetailsSectionTab","handleNextTabpress","oTabBar","groups","getProperty","length","Attribute_Groups_ID","getBusyDialog","open","setText","oODataModel","getOwnerComponent","sSelectedTemplate","that","templatePortalPath","templateContextBinding","templateContext","getBoundContext","productSpecificationBinding","bindList","$$ownRequest","model","isBound","requestContexts","aContexts","rows","map","ctx","getObject","groupsMap","row","gid","AttributeTypeAssociation","Attribute_Group_Name","Attribute_Group_Role","AttributeGroupOrder","Attributes","attributeValue","Attribute_Value","AttributeType","toLowerCase","_formateDateToDateValueFormat","_getCombovalues","Attribute_ID","combovalues","matchingAttrValue","find","av","attribute_groups_ID","attributes_ID","valueJson","attr","Attribute_Name","AttributeOrder","IsMandatory","Is_Required","Value","IsPortalEnabled","Portal_ID","push","grouped","Object","keys","k","sort","a","b","forEach","g","modelData","AttributeGroups","getData","close","catch","err","jQuery","error","trim","parsed","Date","isNaN","getTime","warn","onNavigation","sNavigationTarget","oRouter","navTo","handleSaveContractDetails","formatDate","sDate","d","pad","n","getFullYear","getMonth","getDate","e","formatAttribute","sValue","sAttributeType","Array","isArray","join","String","onUploadCompleted","vItem","getParameters","item","Attachments","aItems","newFiles","Promise","all","oItem","_getfiledata","onBeforeUploadStarts","handleSaveandSubmitContractDetails","sSaveType","contractMasterData","validateControls","convertModelDataToAttributeValues","sId","ODataPost","getAppModulePathBaseURL","$","ajax","url","method","contentType","JSON","stringify","success","actions","Action","OK","onClose","oAction","result","group","groupId","rawValue","idList","isValid","id","control","value","getValue","getDateValue","getSelected","invalid","setValueState","setValueStateText"],"sources":["ContractDetails-dbg.controller.js"],"mappings":"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","ignoreList":[]}