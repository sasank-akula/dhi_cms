sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/Link","sap/ui/core/Fragment","sap/m/MessageBox"],function(e,t,r,o){"use strict";return e.extend("com.dhi.cms.cmsadmin.controller.BaseController",{getRouter:function(){return this.getOwnerComponent().getRouter()},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},_getFragmentId:function(e,t,r){return e+`---${t}--${r}`},onNavigation:function(e){var t=this.getOwnerComponent().getRouter();var e;if(e){t.navTo(e)}else{console.error("Navigation target not defined.")}},onRulesNavigation:function(){window.open("https://development-aarini.cockpit.workflowmanagement.cfapps.eu10.hana.ondemand.com/comsapbpmrule.ruleeditor/index.html#/Projects")},_updateBreadcrumbs:function(e){var o=this.getOwnerComponent().getId();var a=r.byId(this._getFragmentId(o,"App","ToolPageHeader"),"breadcrumbs");if(!a){console.error("Breadcrumbs control not found.");return}var s=this;var n=this.getView().getModel("i18n");var i=n?n.getResourceBundle():null;if(!i){console.error("i18n resource bundle not found.");return}var u=["Dashboard","Products","Attributes","Attribute Groups","Templates","Catalogue"];var g={"Create Products":"Products","Create Attributes":"Attributes","Create Attribute Group":"Attribute Groups","Create Template":"Templates","Create Catalogue":"Catalogue"};var l=function(e){return i.getText("Breadcrumbs_"+e.replace(/\s/g,"_"),e)};var d=[];var p="";var c=this.getModel("appModel").getProperty("/isEditMode");d.push(new t({text:"Prodsphere",press:function(){s.getRouter().navTo("Dashboard")}}));if(e==="Dashboard"){p=l("Dashboard")}else{var f=u.find(t=>e.includes(t));var m=g[e];if(m){d.push(new t({text:l(m),press:function(){s.getRouter().navTo(m)}}))}else if(f&&f!==e){d.push(new t({text:l(f),press:function(){s.getRouter().navTo(f)}}))}if(c){if(e==="Create Products"){p=l("Update Product")}else if(e==="Create Attributes"){p=l("Update Attribute")}else if(e==="Create Attribute Group"){p=l("Update Attribute Group")}else if(e==="Create Template"){p=l("Update Template")}else if(e==="Create Catalogue"){p=l("Update Catalogue")}else{p=l(e)}}else{p=l(e)}}a.removeAllLinks();d.forEach(e=>a.addLink(e));a.setCurrentLocationText(p);this.getModel("appModel").setProperty("/isEditMode",false)},confirmAction:function(e,t){let r=new Promise((r,a)=>{let s=[o.Action.YES,o.Action.NO];if(t){s=t}o.confirm(e,{actions:s,emphasizedAction:o.Action.YES,onClose:e=>{if(e===o.Action.YES){r(e)}},dependentOn:this.getView()})});return r},_fnRegisterMessageManager:function(){sap.ui.getCore().getMessageManager().registerObject(this.getView(),true);var e=sap.ui.getCore().getMessageManager().getMessageModel();this.getView().setModel(e,"message")},_refreshMessageManager:function(){sap.ui.getCore().getMessageManager().getMessageModel().setData([]);sap.ui.getCore().getMessageManager().getMessageModel().refresh();this.getModel("message").setData([]);this.getModel("message").refresh()},getBusyDialog:function(){if(!this._oBusyDialog){this._oBusyDialog=sap.ui.xmlfragment(this.getView().getController().createId("busyDialogId"),"com.pimx.prodsphere.pxm.fragments.BusyDialog",this);this.getView().addDependent(this._oBusyDialog)}return this._oBusyDialog},getAppModulePathBaseURL:function(){var e=this.getOwnerComponent().getManifestEntry("/sap.app/id");var t=e.replaceAll(".","/");var r=jQuery.sap.getModulePath(t);return r},getText:function(e,t){let r=this.getResourceBundle();return r.getText(e,t)}})});
//# sourceMappingURL=BaseController.js.map